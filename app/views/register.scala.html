@(name:String, firstName: String, lastName: String, email: String, userType: String, userTypes: String  )
@headerOut()

<script type="text/javascript">
    // set default userTypes on selection html element
    $( document).ready( function(){
        var userTypes = @Html(userTypes);
        var selectedUserType = "@{ userType }";
        var firstName = "@{ firstName }";
        var lastName = "@{ lastName }";
        var email = "@{ email }";
        var name = "@{ name }";
        $.each( userTypes, function( i, ut ){
            console.log( ut );
            var $e = $('<option>');
            $e.attr({ 'value' : ut.name , 'data-ref' : ut.reference});
            $e.text( ucFirstAllWords(ut.label) );

            $("#user-types-select").append( $e );
        });
        if ( selectedUserType.length > 0  ){
            $("#registration-form .flabel").first().hide();
            $("#user-types-select").val( selectedUserType );
            if ( selectedUserType == "artist"){
                // $('#who-are-you-container').after( new ArtistaForm().renderHtml().fadeIn( 'slow' ));
                $("#registration-form").append( new SignUpPersonForm( firstName, lastName, email ).renderHtml());
            }
            else {
                $("#registration-form").append( new SignUpOrganizationForm( name, email ).renderHtml());
            }

        }

        $('#user-types-select').change( function(){
            var $this = $(this);
            $('.dynamic-create-form').html("");
          //  $( "select option:selected" ).each(function() {
                var $selectionVal = $( this ).val();
                if ( $selectionVal == "artist"){
                   // $('#who-are-you-container').after( new ArtistaForm().renderHtml().fadeIn( 'slow' ));
                    $("#registration-form").append( new SignUpPersonForm().renderHtml());
                }
                else {
                   // if ( $selectionVal != ""){
                        $('#registration-form').append( new SignUpOrganizationForm().renderHtml().fadeIn( 'slow' ));
                   // }
                  //  else {
                       // $this.siblings().fadeIn();
                    //}

                }
          //  });

        });

        // Signup Submit

        $( "#registration-form" ).on( "click", "#uploadProfileImage", function() {
            var $inputs = $("input");
            if ( checkRequiredInputs( $inputs ) == 1){
               // alert("submit the form");
                $("#registration-form" ).submit();
            }
            else {
               // alert(" fill the required fields " );
            }
        });


        $( "#registration-form" ).on( "keyup", "input", function() {
            $( this ).next().html("");
        });

        function checkRequiredInputs( $inputs ){
            var status = 1;
            $.each( $inputs, function( i, item ){

                if ( item.type != "submit" ){
                    var $item = $( item );
                    var required = $item.attr("data-req");
                    var value = $item.val();
                    //alert(value.length);
                    if( required == 1 && value.length <= 0 ){
                        $item.next().html("This is a required field");
                        status = 0;
                    }
                }
            })
            return status;
        }

    });


</script>

<body>
 <!--   id="stepsPage" -->
<div class="container signUpPage" id="content-container">
    <div class="row-fluid">

        <div>
            <div id="stepsContentContainer">
                <h4> Personal Info</h4>
                <div>
                    <form id="registration-form" action="completeRegistration" method="post" enctype="multipart/form-data">
                       <div class="frow">
                            <div class="flabel " style="display: none;"> Who are you?</div>
                            <select class="finputText" name="userType" id="user-types-select">
                                <option></option>

                            </select>
                        </div>

                <!--

                        <div class="frow" >
                             <div class="flabel "> First Name:</div>
                                <input class="finputText"  value="@{ firstName }" type="text" name="firstName" id="firstName">
                        </div>
                          <div class="frow" >
                             <div class="flabel "> Last Name:</div>
                                <input class="finputText" type="text" name="lastName" id="lastName" value="@{ lastName }">
                            </div>
                            <div class="frow" >
                            <div class="flabel "> SystemUser1 Name:</div>
                                <input class="finputText" type="text" name="userName" id="userName" value="@{firstName}.@{lastName}">
                            </div>

                             <div class="frow" >
                            <div class="flabel "> Email:</div>
                                <input class="finputText" type="text" name="email" id="userEmail" value="@{ email }">
                            </div>
                            <div class="frow" >
                             <div class="flabel "> Password:</div>
                                <input class="finputText" type="password" name="password" id="password" type="password">
                             </div>
                        <h4> Location</h4>
                         <div class="frow">
                            <input class="span4" id="city" type="text" name="city" placeholder="City"/>
                            <input class="span2" id="state" type="text" name="state" placeholder="State"/>
                            <input class="span4" id="country" type="text" name="country" placeholder="Country"/>
                        </div>
                        <div class="frow">
                            <span class="add-on">Birthday: </span>
                            <select class="span2">
                                <option>Month</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                            <select class="span2">
                                <option>Day</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                            <select class="span2">
                                <option>Year</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>
                        <div class="frow">
                            <label class="radio inline">
                                <input type="radio" id="female" name="type" value="femal"> Female
                            </label>
                            <label class="radio inline">
                                <input type="radio" id="male" name="type" value="femal"> Male
                            </label>
                        </div>
                        <h4> Profile Photo</h4>
                        <div class="frow" >
                            <input class="span12 finputText " type="file" name="profileImage" id="profileImage">
                        </div>
                        <div class="hr-margin"></div>
                        <div class="frow" >
                            <input class="btn signup-btn span12" type="submit" value="Complete Registration" id="uploadProfileImage">
                        </div>
                        !-->

                    </form>
                </div>
            </div>
        </div>

    </div>

</div>

</body>
</html>